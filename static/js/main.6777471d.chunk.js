(this["webpackJsonpquiz-test-app"]=this["webpackJsonpquiz-test-app"]||[]).push([[0],{25:function(e,a,t){e.exports=t.p+"static/media/arrow-left.98bcd783.svg"},26:function(e,a,t){e.exports=t.p+"static/media/arrow-right.c1bbccee.svg"},27:function(e,a,t){e.exports=t(44)},36:function(e,a,t){},37:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(13),c=t.n(s),l=t(7),u=t(15),m=(t(36),t(9)),o=t(3),i=t(17);t(37);function p(e){var a=e.setUser,t=Object(o.g)(),s=Object(r.useState)(""),c=Object(i.a)(s,2),l=c[0],u=c[1];return n.a.createElement("div",{className:"lp-wrapper"},n.a.createElement("div",{className:"lp-content"},n.a.createElement("h3",{className:"lp-content_header"},"Let's play a game!"),n.a.createElement("div",{className:"lp-content_input-group"},n.a.createElement("input",{placeholder:" ",className:"input-control",autoComplete:"false",onChange:function(e){return u(e.target.value)}}),n.a.createElement("div",{className:"floater"})),n.a.createElement("button",{className:"lp-content_button ".concat(!l&&"disabled"),onClick:function(){a(l),t.push("/")}},"Start")))}var E=t(11),N=t.n(E),d=t(16);function S(e){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(N.a.mark((function e(a){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=t(2);function b(e){return e.map((function(e,a){return Object(g.a)(Object(g.a)({},e),{},{position:a+1})}))}t(40);var w=function(e){var a=e.cardData,t=e.userAnswer,r=e.isDisabled,s=e.onUserAnswer,c=function(e){for(var a=[["amp","&"],["apos","'"],["#x27","'"],["#x2F","/"],["#039","'"],["#47","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"']],t=0,r=a.length;t<r;++t)e=e.replace(new RegExp("&"+a[t][0]+";","g"),a[t][1]);return e}(a.question);return n.a.createElement("div",{className:"gpc-wrapper"},n.a.createElement("h4",{className:"gpc-header"},c),n.a.createElement("div",{className:"gpc-radio-group",onChange:function(e){return s(e.target.value)}},n.a.createElement("div",{className:"gpc-radio-group_item"},n.a.createElement("input",{id:"True",type:"radio",name:"answer",value:"True",defaultChecked:"True"===t,disabled:r}),n.a.createElement("label",{htmlFor:"True"},"Yes")),n.a.createElement("div",{className:"gpc-radio-group_item"},n.a.createElement("input",{id:"False",type:"radio",name:"answer",value:"False",defaultChecked:"False"===t,disabled:r}),n.a.createElement("label",{htmlFor:"False"},"No"))))},v=Object(l.b)((function(e){return{userName:e.userName,userScore:e.userScore,currentCard:e.currentCard}}))((function(e){var a=e.userName,t=e.userScore,r=e.currentCard,s=e.cardLength;return n.a.createElement("header",null,n.a.createElement("span",null,"User: ",n.a.createElement("b",null,a)),n.a.createElement("span",null,"Card: ",n.a.createElement("b",null,r,"/",s)),n.a.createElement("span",null,"Score: ",n.a.createElement("b",null,t)))})),h=t(25),O=t.n(h),A=t(26),_=t.n(A),j=Object(l.b)((function(e){return{quiz:e.quiz,currentCard:e.currentCard,userAnswers:e.userAnswers,doneAnswers:e.doneAnswers}}),(function(e){return{onSetScore:function(a){return e({type:"SET_SCORE",action:a})},onSetDoneAnswers:function(a){return e({type:"SET_DONE_ANSWERS",answers:a})},onSetInProgress:function(a){return e({type:"SET_IN_PROGRESS",value:a})},onSetCurrentCard:function(a){return e({type:"SET_CURRENT_CARD",value:a})}}}))((function(e){var a=e.type,t=e.quiz,r=e.currentCard,s=e.userAnswers,c=e.doneAnswers,l=e.onSetScore,u=e.onSetDoneAnswers,m=e.onSetInProgress,i=e.onSetCurrentCard,p=Object(o.g)(),E=function(e,a){a?(N(),d()):S()},N=function(){var e=t.find((function(e){return e.position===r})).correct_answer;c.has(r)||(e===s.get(r)?l("plus"):l("minus"))},d=function(){u(new Map(c.set(r,!0))),r===t.length?(sessionStorage.setItem("inProgress","false"),m(!1),p.push("/results")):i("next")},S=function(){return i("prev")};if("prev"===a){var f=1===r;return n.a.createElement("div",{className:"gp-card_prev ".concat(f&&"disabled"),onClick:E},n.a.createElement("img",{src:O.a,alt:"arrow-left",width:"50px"}))}var g=!s.has(r);return n.a.createElement("div",{className:"gp-card_next ".concat(g&&"disabled"),onClick:function(e){return E(0,!0)}},n.a.createElement("img",{src:_.a,alt:"arrow-right",width:"50px"}))})),C=(t(41),Object(l.b)((function(e){return{quiz:e.quiz,currentCard:e.currentCard,userAnswers:e.userAnswers,userScore:e.userScore,doneAnswers:e.doneAnswers}}),(function(e){return{onSetQuiz:function(a){return e({type:"SET_QUIZ",quiz:a})},onSetUserAnswers:function(a){return e({type:"SET_USER_ANSWERS",answers:a})},onUpdateUserState:function(a){return e({type:"ON_UPDATE_USER_STATE",data:a})}}}))((function(e){var a=e.userScore,t=e.quiz,s=e.onSetQuiz,c=e.currentCard,l=e.userAnswers,u=e.onSetUserAnswers,m=e.doneAnswers,o=e.onUpdateUserState,p=Object(r.useState)(!0),E=Object(i.a)(p,2),f=E[0],g=E[1];Object(r.useEffect)((function(){if("true"===sessionStorage.getItem("inProgress")){var e=JSON.parse(sessionStorage.getItem("userState"));o(e),g(!1)}else h().then((function(e){sessionStorage.setItem("inProgress","true"),s(e)})).catch((function(e){return console.log(e)})).finally((function(){return g(!1)}))}),[o,s]);var h=function(){var e=Object(d.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("https://opentdb.com/api.php?amount=10&category=9&difficulty=medium&type=boolean");case 2:return a=e.sent,e.abrupt("return",b(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.onbeforeunload=function(){var e={quiz:t,currentCard:c,userScore:a,userAnswers:Array.from(l),doneAnswers:Array.from(m)};sessionStorage.setItem("userState",JSON.stringify(e))};var O=function(e){u(new Map(l.set(c,e)))};return n.a.createElement("div",{className:"gp-wrapper"},f?n.a.createElement("h3",{className:"gp-loading"},"Loading..."):n.a.createElement(n.a.Fragment,null,n.a.createElement(v,{cardLength:t.length}),n.a.createElement("div",{className:"gp-card_wrapper"},n.a.createElement(j,{type:"prev"}),t.map((function(e){return e.position===c&&n.a.createElement(w,{key:e.position,cardData:e,userAnswer:l.get(c),isDisabled:m.has(c),onUserAnswer:O})})),n.a.createElement(j,{type:"next"}))))}))),y=(t(42),Object(l.b)((function(e){return{userName:e.userName,userScore:e.userScore}}),(function(e){return{onResetGame:function(){return e({type:"RESET_GAME"})},onUpdateUserState:function(a){return e({type:"ON_UPDATE_USER_STATE",data:a})}}}))((function(e){var a=e.userName,t=e.userScore,r=e.onResetGame,s=e.onUpdateUserState,c=Object(o.g)();return n.a.createElement("div",{className:"rp-wrapper"},n.a.createElement("main",{className:"rp-content"},n.a.createElement("h3",{className:"rp-header"},function(){switch(!0){case t<=0:return"Not good, ".concat(a,"...");case t>0&&t<=50:return"Nice job, ".concat(a,"!");case t>50:return"Wow! Great, ".concat(a,"!");default:return"Nice job, ".concat(a,"!")}}()),n.a.createElement("p",null,"You've got ",n.a.createElement("b",null,t)," points"),n.a.createElement("div",{className:"rp-button-group"},n.a.createElement("button",{className:"rp-button-group_item",onClick:function(){var e={quiz:null,currentCard:1,userScore:t,userAnswers:new Map,doneAnswers:new Map};s(e),c.push("/")}},"Play again"),n.a.createElement("button",{className:"rp-button-group_item",onClick:function(){r(),c.push("/")}},"New game"))))}))),T=(t(43),function(e){var a=e.userName,t=void 0===a?"stranger":a,r=Object(o.g)();return n.a.createElement("main",{className:"container"},n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"4"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("span",{className:"particle"},"0"),n.a.createElement("article",{className:"content"},n.a.createElement("p",null,"Damnit ",t,","),n.a.createElement("p",null,"You got lost in the ",n.a.createElement("strong",null,"404")," galaxy."),n.a.createElement("p",null,n.a.createElement("button",{onClick:function(){return r.push("/")}},"Go back to earth."))))});var R=Object(l.b)((function(e){return{inProgress:e.inProgress,userName:e.userName}}),(function(e){return{onSetUserName:function(a){return e({type:"SET_USER_NAME",userName:a})},onSetInProgress:function(a){return e({type:"SET_IN_PROGRESS",value:a})}}}))((function(e){var a=e.inProgress,t=e.userName,s=e.onSetInProgress,c=e.onSetUserName;return Object(r.useEffect)((function(){var e=sessionStorage.getItem("inProgress"),a=sessionStorage.getItem("userName");e&&s("true"===e),a&&c(a)}),[s,c]),n.a.createElement(m.a,null,n.a.createElement(o.d,null,n.a.createElement(o.b,{path:"/login"},t?n.a.createElement(o.a,{to:"/"}):n.a.createElement(p,{setUser:function(e){sessionStorage.setItem("userName",e),c(e)}})),n.a.createElement(o.b,{exact:!0,path:"/"},t?n.a.createElement(C,null):n.a.createElement(o.a,{to:"/login"})),n.a.createElement(o.b,{path:"/results"},t?a?n.a.createElement(o.a,{to:"/"}):n.a.createElement(y,{userName:t}):n.a.createElement(o.a,{to:"/login"})),n.a.createElement(o.b,{path:"*"},n.a.createElement(T,{userName:t}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U={inProgress:!1,userName:"",userScore:0,quiz:null,currentCard:1,userAnswers:new Map,doneAnswers:new Map},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_IN_PROGRESS":return Object(g.a)(Object(g.a)({},e),{},{inProgress:a.value});case"SET_USER_NAME":return Object(g.a)(Object(g.a)({},e),{},{userName:a.userName});case"SET_USER_SCORE":return Object(g.a)(Object(g.a)({},e),{},{userScore:a.userScore});case"SET_SCORE":var t="plus"===a.action;return Object(g.a)(Object(g.a)({},e),{},{userScore:t?e.userScore+10:e.userScore-10});case"RESET_GAME":return Object(g.a)(Object(g.a)({},e),{},{quiz:null,currentCard:1,userScore:0,userAnswers:new Map,doneAnswers:new Map});case"SET_QUIZ":return Object(g.a)(Object(g.a)({},e),{},{quiz:a.quiz});case"SET_CURRENT_CARD":var r="next"===a.value;return Object(g.a)(Object(g.a)({},e),{},{currentCard:r?e.currentCard+1:e.currentCard-1});case"SET_USER_ANSWERS":return Object(g.a)(Object(g.a)({},e),{},{userAnswers:a.answers});case"SET_DONE_ANSWERS":return Object(g.a)(Object(g.a)({},e),{},{doneAnswers:a.answers});case"ON_UPDATE_USER_STATE":var n=a.data,s=n.quiz,c=n.currentCard,l=n.userScore,u=n.userAnswers,m=n.doneAnswers;return Object(g.a)(Object(g.a)({},e),{},{quiz:s,currentCard:c,userScore:l,userAnswers:new Map(u),doneAnswers:new Map(m)});default:return e}},q=Object(u.b)(P);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,{store:q},n.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.6777471d.chunk.js.map